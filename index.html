<!--Test bench code for boardmicro.

    This file is part of boardmicro.

    boardmicro is free software; you can redistribute it and/or modify it under
    the terms of the GNU General Public License as published by the Free
    Software Foundation; either version 3, or (at your option) any later
    version.

    boardmicro is distributed in the hope that it will be useful, but WITHOUT ANY
    WARRANTY; without even the implied warranty of MERCHANTABILITY or
    FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
    for more details.

    You should have received a copy of the GNU General Public License
    along with boardmicro; see the file LICENSE.  If not see
    <http://www.gnu.org/licenses/>-->
<html id="all">
<meta name=viewport content="width=device-width, height=device-height, initial-scale=1">
<style>
  body
  {
    margin: 0;
    padding: 0;
  }
  img
  {
    margin: 0;
    padding: 0;
    width: 100%;
    height: auto;
  }
  nav ul{width:65%;}
  nav ul{overflow:hidden; overflow-y:scroll;}
  ul
  {
    margin: 0;
    list-style-type: none;
  }
  font
  {
    color: white;
  }
</style>
  
<script src="js/avrcore.js"></script>
<script src="js/emcc_avrcore.js"></script>
<script src="js/elfcore.js"></script>
<script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="dkvmnkrox439ikx"></script>

<body>
<div id="table" style="display: table;">
<div style="display: table-row;">
<div style="display: table-cell; background: black" id="layout">
<div id="sources">
<input text="this" type="file" id="file"/>
</div>
<canvas style="background:black" id="screen"></canvas>
<div id=ports>
<div id=default>
<div id="portB" style="display:table;">
<div style="display:table-row;">
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="B0"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="B1"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="B2"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="B3"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="B4"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="B5"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="B6"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="B7"></canvas>
</div>
</div>
</div>
<hr style="margin:0">
<div id="portC" style="display:table;">
<div style="display:table-row;">
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="C0"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="C1"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="C2"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="C3"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="C4"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="C5"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="C6"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="C7"></canvas>
</div>
</div>
</div>
<hr style="margin:0">
<div id="portD" style="display:table">
<div style="display:table-row;">
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="D0"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="D1"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="D2"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="D3"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="D4"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="D5"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="D6"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="D7"></canvas>
</div>
</div>
</div>
<hr style="margin:0">
<div id="portE" style="display:table">
<div style="display:table-row;">
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="E0"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="E1"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="E2"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="E3"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="E4"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="E5"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="E6"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="E7"></canvas>
</div>
</div>
</div>
<hr style="margin:0">
<div id="portF" style="display:table">
<div style="display:table-row;">
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="F0"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="F1"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="F2"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="F3"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="F4"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="F5"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="F6"></canvas>
</div>
<div style="display:table-cell;">
<canvas style="width:1px;"></canvas>
</div>
<div style="display:table-cell;">
<canvas id="F7"></canvas>
</div>
</div>
</div>
</div>
</div>
<input style="width:0;" type="search" id="uart" size="33"/>
</div>
<div style="display: table-cell;">
<div style="margin: 2" id="debug">
<font style="font-size:24">Debug Control</font>
<br>
<br>
<button id="gdb_button" onClick="doDebugCommand();">(gdb)</button>
<input type="search" id="gdb" value="" onkeydown="filterRelevantKeypress()"/>
<font id="gdbshell"></font>
<br/>
<font>Batch Instructions 1 - 5000000</font>
<br/>
<input id="batch" onchange="batchSize=this.value" style="width: 90%" type="range" min="1" max="5000000" value="1024">
<br/>
<font>Batch Delay 0 - 1000ms</font>
<br/>
<input id="delay" onchange="batchDelay=this.value" style="width: 90%" type="range" min="0" max="1000" value="0">
<br/>
<font>ADC Value 0 - 1023</font>
<br/>
<input id="adc" onchange="adcValue=this.value" style="width: 90%" type="range" min="0" max="1023" value="42">
<br/>
<div id="optimize">
<input type="checkbox" onchange="forceOptimizationEnabled=this.checked"><font>Disable SPI Port Animation</font>
</div>
<input type="checkbox" onchange="disableUARTInterrupt=this.checked"><font>Disable UART Interrupt</font>
<br/>
<input type="checkbox" onchange="emcc=this.checked"><font>Use EMCC Backend</font>
<br/>
</div>
</div>
<div style="display: table-cell;">
<div style="margin: 2" id="state">
<font style="font-size:24">Program State</font>
<br>
<br>
<input id="mhz" type="text">
<font>Mhz</font>
<br>
<font style="margin-left: 4">Registers</font>
<div style="display: table">
<div style="display: table-row;">
<div style="display: table-cell;">
<input id="R0" type="search">
</div>
<div style="display: table-cell;">
<input id="R1" type="search">
</div>
<div style="display: table-cell;">
<input id="R2" type="search">
</div>
<div style="display: table-cell;">
<input id="R3" type="search">
</div>
<div style="display: table-cell;">
<input id="R4" type="search">
</div>
<div style="display: table-cell;">
<input id="R5" type="search">
</div>
<div style="display: table-cell;">
<input id="R6" type="search">
</div>
<div style="display: table-cell;">
<input id="R7" type="search">
</div>
</div>
<div style="display: table-row">
<div style="display: table-cell;">
<input id="R8" type="search">
</div>
<div style="display: table-cell;">
<input id="R9" type="search">
</div>
<div style="display: table-cell;">
<input id="R10" type="search">
</div>
<div style="display: table-cell;">
<input id="R11" type="search">
</div>
<div style="display: table-cell;">
<input id="R12" type="search">
</div>
<div style="display: table-cell;">
<input id="R13" type="search">
</div>
<div style="display: table-cell;">
<input id="R14" type="search">
</div>
<div style="display: table-cell;">
<input id="R15" type="search">
</div>
</div>
<div style="display: table-row">
<div style="display: table-cell;">
<input id="R16" type="search">
</div>
<div style="display: table-cell;">
<input id="R17" type="search">
</div>
<div style="display: table-cell;">
<input id="R18" type="search">
</div>
<div style="display: table-cell;">
<input id="R19" type="search">
</div>
<div style="display: table-cell;">
<input id="R20" type="search">
</div>
<div style="display: table-cell;">
<input id="R21" type="search">
</div>
<div style="display: table-cell;">
<input id="R22" type="search">
</div>
<div style="display: table-cell;">
<input id="R23" type="search">
</div>
</div>
</div>
<div style="display: table-row">
<div style="display: table-cell;">
<input id="R24" type="search">
</div>
<div style="display: table-cell;">
<input id="R25" type="search">
</div>
<div style="display: table-cell;">
<input id="R26" type="search">
</div>
<div style="display: table-cell;">
<input id="R27" type="search">
</div>
<div style="display: table-cell;">
<input id="R28" type="search">
</div>
<div style="display: table-cell;">
<input id="R29" type="search">
</div>
<div style="display: table-cell;">
<input id="R30" type="search">
</div>
<div style="display: table-cell;">
<input id="R31" type="search">
</div>
</div>
<font style="margin-left: 4">SRAM</font>
<textarea id="disasm" type="search"></textarea>
<div id="addresses" style="display: table">
<div style="display: table-row">
<div style="display: table-cell">
<font style="margin-left: 4">Breakpoints</font>
<nav>
<ul id="breakpoints" style="background: white" multiple>
</ul>
</nav>
</div>
<div style="display: table-cell">
<font style="margin-left: 4">Call Stack</font>
<nav>
<ul id="callstack" style="background: white" multiple>
</ul>
</nav>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<dialog hidden style="width: 90%;" id="source_dialog">
<input text="this" type="file" id="source"/>
<button onclick="closeDialog()">Dismiss</button>
<br>
<div id="source_table" style="width: 100%; height: 90%; display: table;">
<div style="display: table-row;">
<div style="width: 5%; height: 100%; display: table-cell;">
<table id="source_graphics" style="border-collapse:collapse; width:100%">
</table>
</div>
<div style="display: table-cell;">
<textarea id="debug_source" style="width: 100%; height: 100%; line-height: 20px"></textarea>
</div>
</div>
</div>
</dialog>
</body>
<script src="js/globals.js"></script>
<script src="js/scratch.js"></script>
<script src="js/lib.js"></script>
<script src="js/layout.js"></script>
</html>
